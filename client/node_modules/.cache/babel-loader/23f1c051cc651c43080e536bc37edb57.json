{"remainingRequest":"/home/sebastian/Escritorio/proyecto-9-vue-social-network-master/client/node_modules/babel-loader/lib/index.js!/home/sebastian/Escritorio/proyecto-9-vue-social-network-master/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sebastian/Escritorio/proyecto-9-vue-social-network-master/client/src/components/Auth/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/sebastian/Escritorio/proyecto-9-vue-social-network-master/client/src/components/Auth/Profile.vue","mtime":1543505441000},{"path":"/home/sebastian/Escritorio/proyecto-9-vue-social-network-master/client/node_modules/cache-loader/dist/cjs.js","mtime":1648227723569},{"path":"/home/sebastian/Escritorio/proyecto-9-vue-social-network-master/client/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/home/sebastian/Escritorio/proyecto-9-vue-social-network-master/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/home/sebastian/Escritorio/proyecto-9-vue-social-network-master/client/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"Profile\",\n  data: function data() {\n    return {\n      editPostDialog: false,\n      isFormValid: true,\n      title: \"\",\n      imageUrl: \"\",\n      categories: [],\n      description: \"\",\n      titleRules: [function (title) {\n        return !!title || \"Completa este campo\";\n      }, function (title) {\n        return title.length < 30 || \"El título debe tener menos de 30 caracteres\";\n      }],\n      descriptionRules: [function (description) {\n        return !!description || \"Completa este campo\";\n      }, function (description) {\n        return description.length < 200 || \"La descripción debe tener menos de 200 caracteres\";\n      }],\n      urlImageRules: [function (urlImage) {\n        return !!urlImage || \"Completa este campo\";\n      }],\n      categoriesRules: [function (categories) {\n        return categories.length >= 1 || \"Debes marcar al menos una categoría\";\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapGetters([\"user\", \"userFavorites\", \"userPosts\"])),\n  created: function created() {\n    this.handleGetUserPosts();\n  },\n  methods: {\n    handleGetUserPosts: function handleGetUserPosts() {\n      this.$store.dispatch(\"getUserPosts\", {\n        userId: this.user._id\n      });\n    },\n    handleUpdateUserPost: function handleUpdateUserPost() {\n      if (this.$refs.form.validate()) {\n        this.$store.dispatch(\"updateUserPost\", {\n          postId: this.postId,\n          userId: this.user._id,\n          title: this.title,\n          imageUrl: this.imageUrl,\n          description: this.description,\n          categories: this.categories\n        });\n        this.editPostDialog = false;\n      }\n    },\n    handleDeleteUserPost: function handleDeleteUserPost(post) {\n      this.loadPost(post, false);\n      var deletePost = window.confirm(\"¿Estas seguro de eliminar la publicación?\");\n\n      if (deletePost) {\n        this.$store.dispatch(\"deleteUserPost\", {\n          postId: this.postId\n        });\n      }\n    },\n    loadPost: function loadPost(_ref) {\n      var _id = _ref._id,\n          title = _ref.title,\n          imageUrl = _ref.imageUrl,\n          categories = _ref.categories,\n          description = _ref.description;\n      var editPostDialog = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      // Abrir el modal\n      this.editPostDialog = editPostDialog; // Cargar los datos de la publicación en los inputs del formulario\n\n      this.postId = _id;\n      this.title = title;\n      this.imageUrl = imageUrl;\n      this.categories = categories;\n      this.description = description;\n    },\n    goToPost: function goToPost(Id) {\n      this.$router.push(\"/posts/\".concat(Id));\n    }\n  }\n};",{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,QAAA,SADA;AAEA,MAFA,kBAEA;AACA,WAAA;AACA,sBAAA,KADA;AAEA,mBAAA,IAFA;AAGA,aAAA,EAHA;AAIA,gBAAA,EAJA;AAKA,kBAAA,EALA;AAMA,mBAAA,EANA;AAOA,kBAAA,CACA;AAAA,eAAA,CAAA,CAAA,KAAA,IAAA,qBAAA;AAAA,OADA,EAEA;AAAA,eACA,MAAA,MAAA,GAAA,EAAA,IAAA,6CADA;AAAA,OAFA,CAPA;AAYA,wBAAA,CACA;AAAA,eAAA,CAAA,CAAA,WAAA,IAAA,qBAAA;AAAA,OADA,EAEA;AAAA,eACA,YAAA,MAAA,GAAA,GAAA,IACA,mDAFA;AAAA,OAFA,CAZA;AAkBA,qBAAA,CAAA;AAAA,eAAA,CAAA,CAAA,QAAA,IAAA,qBAAA;AAAA,OAAA,CAlBA;AAmBA,uBAAA,CACA;AAAA,eACA,WAAA,MAAA,IAAA,CAAA,IAAA,qCADA;AAAA,OADA;AAnBA,KAAA;AAwBA,GA3BA;AA4BA,8BACA,WAAA,CAAA,MAAA,EAAA,eAAA,EAAA,WAAA,CAAA,CADA,CA5BA;AA+BA,SA/BA,qBA+BA;AACA,SAAA,kBAAA;AACA,GAjCA;AAkCA,WAAA;AACA,sBADA,gCACA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA;AACA,gBAAA,KAAA,IAAA,CAAA;AADA,OAAA;AAGA,KALA;AAMA,wBANA,kCAMA;AACA,UAAA,KAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA;AACA,kBAAA,KAAA,MADA;AAEA,kBAAA,KAAA,IAAA,CAAA,GAFA;AAGA,iBAAA,KAAA,KAHA;AAIA,oBAAA,KAAA,QAJA;AAKA,uBAAA,KAAA,WALA;AAMA,sBAAA,KAAA;AANA,SAAA;AAQA,aAAA,cAAA,GAAA,KAAA;AACA;AACA,KAlBA;AAmBA,wBAnBA,gCAmBA,IAnBA,EAmBA;AACA,WAAA,QAAA,CAAA,IAAA,EAAA,KAAA;AACA,UAAA,aAAA,OAAA,OAAA,CACA,2CADA,CAAA;;AAGA,UAAA,UAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,gBAAA,EAAA;AACA,kBAAA,KAAA;AADA,SAAA;AAGA;AACA,KA7BA;AA8BA,YA9BA,0BAiCA;AAAA,UAFA,GAEA,QAFA,GAEA;AAAA,UAFA,KAEA,QAFA,KAEA;AAAA,UAFA,QAEA,QAFA,QAEA;AAAA,UAFA,UAEA,QAFA,UAEA;AAAA,UAFA,WAEA,QAFA,WAEA;AAAA,UADA,cACA,uEADA,IACA;AACA;AACA,WAAA,cAAA,GAAA,cAAA,CAFA,CAGA;;AACA,WAAA,MAAA,GAAA,GAAA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,QAAA,GAAA,QAAA;AACA,WAAA,UAAA,GAAA,UAAA;AACA,WAAA,WAAA,GAAA,WAAA;AACA,KA1CA;AA2CA,YA3CA,oBA2CA,EA3CA,EA2CA;AACA,WAAA,OAAA,CAAA,IAAA,kBAAA,EAAA;AACA;AA7CA;AAlCA,CAAA","sourcesContent":["<template>\n  <v-container class=\"text-xs-center\" fluid>\n\n    <!-- Pefil de usuario -->\n    <v-flex sm6 offset-sm3>\n      <v-card class=\"white--text\" color=\"accent\">\n        <v-layout>\n          <v-flex xs5>\n            <v-card-media height=\"125px\" contain :src=\"user.avatar\"></v-card-media>\n          </v-flex>\n          <v-flex xs7>\n            <v-card-title primary-title>\n              <div>\n                <div class=\"headline\">{{user.username}}</div>\n                <div>Joined {{user.joinDate}}</div>\n                <div class=\"hidden-xs-only font-weight-thin\">{{user.favorites.length}} Favoritos</div>\n                <div class=\"hidden-xs-only font-weight-thin\">{{userPosts.length}} publicaciones</div>\n              </div>\n            </v-card-title>\n          </v-flex>\n        </v-layout>\n      </v-card>\n    </v-flex>\n\n    <!-- Favoritos -->\n    <v-container v-if=\"!userFavorites.length\">\n      <v-layout row wrap>\n        <v-flex xs12>\n          <h2>No tienes ningún favorito aún!</h2>\n        </v-flex>\n      </v-layout>\n    </v-container>\n\n    <v-container class=\"mt-3\" v-else>\n      <v-flex xs12>\n        <h2 class=\"font-weight-light\">Favoritos\n          <span class=\"font-weight-regular\">({{userFavorites.length}})</span>\n        </h2>\n      </v-flex>\n      <v-layout row wrap>\n        <v-flex xs12 sm3 v-for=\"favorite in userFavorites\" :key=\"favorite._id\">\n          <v-card class=\"mt-3 ml-1 mr-2\" hover>\n            <v-card-media @click=\"goToPost(favorite._id)\" height=\"30vh\" :src=\"favorite.imageUrl\"></v-card-media>\n            <v-card-text>{{favorite.title}}</v-card-text>\n          </v-card>\n        </v-flex>\n      </v-layout>\n    </v-container>\n\n    <!-- publicaciones del usuario -->\n    <v-container v-if=\"!userPosts.length\">\n      <v-layout row wrap>\n        <v-flex xs12>\n          <h2>No tienes ninguna publicación aún!</h2>\n        </v-flex>\n      </v-layout>\n    </v-container>\n\n    <v-container class=\"mt-1\" v-else>\n      <v-flex xs12>\n        <h2 class=\"font-weight-light\">Tus publicaciones\n          <span class=\"font-weight-regular\">({{userPosts.length}})</span>\n        </h2>\n      </v-flex>\n      <v-layout row wrap>\n        <v-flex xs12 sm3 v-for=\"post in userPosts\" :key=\"post._id\">\n          <v-card class=\"mt-3 ml-1 mr-2\" hover>\n            <v-card-media @click=\"goToPost(post._id)\" height=\"30vh\" :src=\"post.imageUrl\"></v-card-media>\n            <v-card-text>{{post.title}}</v-card-text>\n            <v-btn color=\"accent\" small dark class=\"mb-3\" @click=\"loadPost(post)\">\n              <v-icon>edit</v-icon>\n            </v-btn>\n            <v-btn @click=\"handleDeleteUserPost(post)\" color=\"error\" small dark class=\"mb-3\">\n              <v-icon>delete</v-icon>\n            </v-btn>\n          </v-card>\n        </v-flex>\n      </v-layout>\n    </v-container>\n\n    <!-- modal para editar publicación -->\n    <v-dialog xs12 sm6 offset-sm3 persistent v-model=\"editPostDialog\">\n      <v-card>\n        <v-card-title class=\"headline grey lighten-2\">Editar publicación</v-card-title>\n        <v-container>\n          <v-form v-model=\"isFormValid\" lazy-validation ref=\"form\" @submit.prevent=\"handleUpdateUserPost\">\n            <v-layout row>\n              <v-flex xs12>\n                <v-text-field :rules=\"titleRules\" v-model=\"title\" label=\"Post Título\" type=\"text\" required></v-text-field>\n              </v-flex>\n            </v-layout>\n            <v-layout row>\n              <v-flex xs12>\n                <v-text-field :rules=\"urlImageRules\" v-model=\"imageUrl\" label=\"URL de la imagen\" type=\"text\" required></v-text-field>\n              </v-flex>\n            </v-layout>\n            <v-layout row>\n              <v-flex xs12>\n                <img :src=\"imageUrl\" height=\"300px\">\n              </v-flex>\n            </v-layout>\n            <v-layout row>\n              <v-flex xs12>\n                <v-select v-model=\"categories\" :rules=\"categoriesRules\" :items=\"['Vacaciones ', 'Playa ', 'Bosque', 'Familiar', 'Aniversario', 'Luna de miel', 'Paisaje', 'Relax', 'Extranjero', 'Aventura', 'Tour']\" multiple label=\"Categorías\"></v-select>\n              </v-flex>\n            </v-layout>\n            <v-layout row>\n              <v-flex xs12>\n                <v-textarea :rules=\"descriptionRules\" v-model=\"description\" label=\"Descripción\" type=\"text\" required></v-textarea>\n              </v-flex>\n            </v-layout>\n\n            <v-divider></v-divider>\n\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn :disabled=\"!isFormValid\" type=\"submit\" class=\"success--text\" flat>Guardar</v-btn>\n              <v-btn class=\"error--text\" flat @click=\"editPostDialog = false\">Cancel</v-btn>\n            </v-card-actions>\n\n          </v-form>\n        </v-container>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"Profile\",\n  data() {\n    return {\n      editPostDialog: false,\n      isFormValid: true,\n      title: \"\",\n      imageUrl: \"\",\n      categories: [],\n      description: \"\",\n      titleRules: [\n        title => !!title || \"Completa este campo\",\n        title =>\n          title.length < 30 || \"El título debe tener menos de 30 caracteres\"\n      ],\n      descriptionRules: [\n        description => !!description || \"Completa este campo\",\n        description =>\n          description.length < 200 ||\n          \"La descripción debe tener menos de 200 caracteres\"\n      ],\n      urlImageRules: [urlImage => !!urlImage || \"Completa este campo\"],\n      categoriesRules: [\n        categories =>\n          categories.length >= 1 || \"Debes marcar al menos una categoría\"\n      ]\n    };\n  },\n  computed: {\n    ...mapGetters([\"user\", \"userFavorites\", \"userPosts\"])\n  },\n  created() {\n    this.handleGetUserPosts();\n  },\n  methods: {\n    handleGetUserPosts() {\n      this.$store.dispatch(\"getUserPosts\", {\n        userId: this.user._id\n      });\n    },\n    handleUpdateUserPost() {\n      if (this.$refs.form.validate()) {\n        this.$store.dispatch(\"updateUserPost\", {\n          postId: this.postId,\n          userId: this.user._id,\n          title: this.title,\n          imageUrl: this.imageUrl,\n          description: this.description,\n          categories: this.categories\n        });\n        this.editPostDialog = false;\n      }\n    },\n    handleDeleteUserPost(post) {\n      this.loadPost(post, false);\n      const deletePost = window.confirm(\n        \"¿Estas seguro de eliminar la publicación?\"\n      );\n      if (deletePost) {\n        this.$store.dispatch(\"deleteUserPost\", {\n          postId: this.postId\n        });\n      }\n    },\n    loadPost(\n      { _id, title, imageUrl, categories, description },\n      editPostDialog = true\n    ) {\n      // Abrir el modal\n      this.editPostDialog = editPostDialog;\n      // Cargar los datos de la publicación en los inputs del formulario\n      this.postId = _id;\n      this.title = title;\n      this.imageUrl = imageUrl;\n      this.categories = categories;\n      this.description = description;\n    },\n    goToPost(Id){\n      this.$router.push(`/posts/${Id}`);\n    }\n  }\n};\n</script>"],"sourceRoot":"src/components/Auth"}]}