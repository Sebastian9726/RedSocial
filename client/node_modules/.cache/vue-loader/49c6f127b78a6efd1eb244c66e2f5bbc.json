{"remainingRequest":"/home/sebastian/Escritorio/RedSocial/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/sebastian/Escritorio/RedSocial/client/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/sebastian/Escritorio/RedSocial/client/src/App.vue","mtime":1648485675506},{"path":"/home/sebastian/Escritorio/RedSocial/client/node_modules/css-loader/index.js","mtime":1648485674862},{"path":"/home/sebastian/Escritorio/RedSocial/client/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1648485675418},{"path":"/home/sebastian/Escritorio/RedSocial/client/node_modules/postcss-loader/lib/index.js","mtime":1648485675130},{"path":"/home/sebastian/Escritorio/RedSocial/client/node_modules/cache-loader/dist/cjs.js","mtime":1648485674774},{"path":"/home/sebastian/Escritorio/RedSocial/client/node_modules/vue-loader/lib/index.js","mtime":1648485675418}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition-property: all;\n  transition-duration: 0.25s;\n}\n\n.fade-enter-active {\n  transition-delay: 0.25s;\n}\n\n.fade-enter,\n.fade-leave-active {\n  opacity: 0;\n  transform: translate(-20px);\n}\n\n#card__search {\n  position: absolute;\n  width: 100vw;\n  z-index: 8;\n  top: 100%;\n  left: 0%;\n}\n\n/* Animacion para badge con numero de favoritos */\n.bounce {\n  animation: bounce 1s both;\n}\n@keyframes bounce {\n  0%,\n  20%,\n  53%,\n  80%,\n  100% {\n    transform: translate3d(0, 0, 0);\n  }\n  40%,\n  45% {\n    transform: translate3d(0, -20px, 0);\n  }\n  70% {\n    transform: translate3d(0, -10px, 0);\n  }\n  90% {\n    transform: translate3d(0, -4px, 0);\n  }\n}\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <v-app style=\"background: #EAEAEA\">\n    <!-- barra lateral -->\n    <v-navigation-drawer app temporary fixed v-model=\"sideNav\">\n      <v-toolbar color=\"accent\" dark flat>\n        <v-toolbar-side-icon @click=\"toggleSideNav\"></v-toolbar-side-icon>\n        <router-link to=\"/\" tag=\"span\" style=\"cursor: pointer\">\n          <h1 class=\"title pl-3\">\n            Red social\n          </h1>\n        </router-link>\n      </v-toolbar>\n      <v-divider></v-divider>\n      <!-- iconos/enlaces -->\n      <v-list>\n        <v-list-tile ripple v-for=\"item in itemsOfSideNav\" :key=\"item.title\" :to=\"item.link\">\n          <v-list-tile-action>\n            <v-icon>{{item.icon}}</v-icon>\n          </v-list-tile-action>\n          <v-list-tile-content>{{item.title}}</v-list-tile-content>\n        </v-list-tile>\n        <!-- boton salir -->\n        <v-list-tile v-if=\"user\" @click=\"handleSignOutUser\">\n          <v-list-tile-action>\n            <v-icon center>exit_to_app</v-icon>\n          </v-list-tile-action>\n          <v-list-tile-content>Salir</v-list-tile-content>\n        </v-list-tile>\n      </v-list>\n    </v-navigation-drawer>\n\n    <!-- Barra de navegación -->\n    <v-toolbar fixed color=\"primary\" dark>\n      <!-- titulo -->\n      <v-toolbar-side-icon @click=\"toggleSideNav\" class=\"hidden-md-only hidden-lg-only\"></v-toolbar-side-icon>\n      <v-toolbar-title class=\"hidden-sm-only hidden-xs-only\">\n        <router-link to=\"/\" tag=\"span\" style=\"cursor: pointer\">Red social</router-link>\n      </v-toolbar-title>\n      <v-spacer></v-spacer>\n      <!-- iconos -->\n      <v-toolbar-items class=\"mr-md-4 mr-0 hidden-xs-only\">\n        <v-btn flat v-for=\"item in itemsOfNav\" :key=\"item.title\" :to=\"item.link\">\n          <v-icon center class=\"mr-2\">{{item.icon}}</v-icon>{{item.title}}\n        </v-btn>\n        <!-- boton perfil -->\n        <v-btn flat to=\"/profile\" v-if=\"user\">\n          <v-icon center class=\"mr-2\">account_box</v-icon>\n          <v-badge right color=\"info\" class=\"mr-3\">\n            perfil\n          </v-badge>\n        </v-btn>\n      </v-toolbar-items>\n\n      <!-- busqueda -->\n      <v-text-field v-model=\"searchTerm\" @input=\"handleSearchPosts\" v-if=\"user\" prepend-icon=\"search\" flex placeholder=\"Buscar publicaciones\" color=\"accent\" single-line hide-details></v-text-field>\n      <!-- card con resultados de busqueda -->\n      <v-card dark v-if=\"searchResults.length\" id=\"card__search\">\n        <v-list>\n          <v-list-tile v-for=\"result in searchResults\" :key=\"result._id\" @click=\"goToSearchResult(result._id)\">\n            <v-list-tile-title>{{result.title}} -\n              <span class=\"font-weight-thin\">{{formatDescription(result.description)}}</span>\n            </v-list-tile-title>\n            <v-list-tile-action v-if=\"checkIfUserFavorite(result._id)\">\n              <v-icon>thumb_up</v-icon>\n            </v-list-tile-action>\n          </v-list-tile>\n        </v-list>\n      </v-card>\n\n      <!-- boton salir -->\n      <v-toolbar-items class=\"mr-md-4 mr-0 hidden-xs-only\">\n        <v-btn flat v-if=\"user\" @click=\"handleSignOutUser\">\n          <v-icon center class=\"mr-2\">exit_to_app</v-icon>salir\n        </v-btn>\n      </v-toolbar-items>\n    </v-toolbar>\n    <!-- Contenido de la app -->\n    <main>\n      <v-container class=\"fluid mt-5\">\n        <transition name=\"fade\">\n          <router-view/>\n        </transition>\n        <!-- snackbar de inicio de sesión (notificaciones emergentes) -->\n        <v-snackbar v-model=\"authSnackbar\" color=\"success\" bottom left :timeout=\"5000\">\n          <v-icon class=\"mt5\">check_circle</v-icon>\n          <h3>Ha ingresado exitosamente</h3>\n          <v-btn dark flat @click=\"authSnackbar = false\">\n            <v-icon>close</v-icon>\n          </v-btn>\n        </v-snackbar>\n\n        <!-- snackbar de error en autentificación-->\n        <v-snackbar v-if=\"authError\" v-model=\"authErrorSnackbar\" color=\"error\" bottom left :timeout=\"5000\">\n          <v-icon class=\"mt5\">cancel</v-icon>\n          <h3>Tu sesión ha expirado, inicia sesión para continuar</h3>\n          <v-btn dark flat to=\"/signin\">\n            Ingresar\n          </v-btn>\n        </v-snackbar>\n      </v-container>\n    </main>\n  </v-app>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      sideNav: false,\n      authSnackbar: false,\n      authErrorSnackbar: false,\n      badgeAnimated: false,\n      searchTerm: \"\"\n    };\n  },\n  watch: {\n    user(newValue, oldValue) {\n      // valida que no exista un valor anterior para 'user', para mostrar el snackbar solo una vez (al iniciar sesión)\n      if (oldValue === null) {\n        this.authSnackbar = true;\n      }\n    },\n    authError(value) {\n      // valida que el value sea diferente de null, para mostrar el snackbar\n      if (value !== null) {\n        this.authErrorSnackbar = true;\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\"authError\", \"user\", \"searchResults\"]),\n    itemsOfNav() {\n      let iconOfNav = [\n        { icon: \"input\", title: \"Ingresar\", link: \"/signin\" },\n        { icon: \"person_add\", title: \"Registrarse\", link: \"/signup\" }\n      ];\n      // Si existe un usuario activo, cambia los iconos de la barra\n      if (this.user) {\n        iconOfNav = [\n          { icon: \"photo_library\", title: \"Inicio\", link: \"/posts\" },\n          {\n            icon: \"add_photo_alternate\",\n            title: \"Publicar\",\n            link: \"/posts/add\"\n          }\n        ];\n      }\n      return iconOfNav;\n    },\n    itemsOfSideNav() {\n      let iconOfNav = [\n        { icon: \"input\", title: \"Ingresar\", link: \"/signin\" },\n        { icon: \"person_add\", title: \"Registrarse\", link: \"/signup\" }\n      ];\n      if (this.user) {\n        iconOfNav = iconOfNav = [\n          { icon: \"photo_library\", title: \"Inicio\", link: \"/posts\" },\n          {\n            icon: \"add_photo_alternate\",\n            title: \"Publicar\",\n            link: \"/posts/add\"\n          },\n          { icon: \"account_circle\", title: \"Perfil\", link: \"/profile\" }\n        ];\n      }\n      return iconOfNav;\n    }\n  },\n  methods: {\n    handleSearchPosts() {\n      this.$store.dispatch(\"searchPosts\", {\n        searchTerm: this.searchTerm\n      });\n    },\n    formatDescription(description) {\n      return description.length > 20\n        ? `${description.slice(0, 20)}...`\n        : description;\n    },\n    toggleSideNav() {\n      this.sideNav = !this.sideNav;\n    },\n    handleSignOutUser() {\n      this.$store.dispatch(\"signoutUser\");\n    },\n    goToSearchResult(resultId) {\n      // Limpiar la variable searchTerm\n      this.searchTerm = \"\";\n      // redireccionar a la vista individual del post\n      this.$router.push(`/posts/${resultId}`);\n      // Limpiar los resultados de la busqueda\n      this.$store.commit(\"clearSearchResults\");\n    }\n  }\n};\n</script>\n\n<style>\n.fade-enter-active,\n.fade-leave-active {\n  transition-property: all;\n  transition-duration: 0.25s;\n}\n\n.fade-enter-active {\n  transition-delay: 0.25s;\n}\n\n.fade-enter,\n.fade-leave-active {\n  opacity: 0;\n  transform: translate(-20px);\n}\n\n#card__search {\n  position: absolute;\n  width: 100vw;\n  z-index: 8;\n  top: 100%;\n  left: 0%;\n}\n\n/* Animacion para badge con numero de favoritos */\n.bounce {\n  animation: bounce 1s both;\n}\n@keyframes bounce {\n  0%,\n  20%,\n  53%,\n  80%,\n  100% {\n    transform: translate3d(0, 0, 0);\n  }\n  40%,\n  45% {\n    transform: translate3d(0, -20px, 0);\n  }\n  70% {\n    transform: translate3d(0, -10px, 0);\n  }\n  90% {\n    transform: translate3d(0, -4px, 0);\n  }\n}\n</style>"]}]}